---
name: QT + C++ Windows 加解密程序规则
description: 面向 Qt/C++ 的 Windows 加解密应用开发规范与约束。
---

# 技术栈
- 使用 Qt 6（项目已使用 QML，优先 Qt Quick/QML 或 Qt Widgets）。
- C++17 或更高版本。
- Windows 优先的行为（路径、对话框、注册表可选）。

# 架构
- 将加解密逻辑放在独立模块（无 UI 依赖）。
- UI 层仅调用薄服务 API。
- 文件 I/O、算法选择与 UI 状态解耦。

# 安全与加密
- 优先使用成熟库（哈希使用 OpenSSL/QtCryptographicHash；加密使用可靠库）。
- 不要自行设计密码学方案。
- 默认使用 AES-256-GCM，随机 IV，带认证的加密。
- 将盐值/IV 与密文以清晰格式存储（如 header + base64）。
- 说明清楚哈希为不可逆摘要，编码不提供安全性。

# 体验要求
- 支持文件加解密与文本模式。
- 大文件显示进度。
- 提供清晰错误信息与安全默认值。
- 左侧菜单包含：哈希、对称加密、非对称加密、其他编码。
- 点击类型后展示对应方式列表（如哈希/算法/编码类型）及使用提示。
- 每个类型页面拆分为单独的 QML 文件。
- 页面内容需包含参数配置、密钥长度选择与示例输入输出。

# 构建与测试
- CMake 作为唯一构建配置来源。
- 为加密工具函数添加单元测试。
- UI 测试保持最小，重点测试逻辑。
